/*
 * This is a comment.
 *
 * TODO: '\x234' this causes a seg fault.
 */

struct RGBA {
    R u8
    G u8
    B u8
    A %RGBA%
}

fn $main$ -> u32 {

    let c RGBA;
    let b %RGBA% c # =;
    b@.A 2 =
    b.R 3 =
    b@.R 2 =

    let a u32 'this' =
    a 512 +
    a 32 == if {
        a 8 =
    }
}
/*let file_handle %void% "test.txt" "r" $fopen$ =
file_handle ! if $end$

let buffer %u8% 4096 $stack$ =

let bytes_read u32 0 =
let counter u32 0 =

loop {
    bytes_read buffer 4096 1 file_handle $fread$ =
    bytes_read ! if break
    while {
        buffer counter 1 $at$ $std_print_char$
        counter counter ++ =
        bytes_read bytes_read -- =
    }
    counter 0 =
}*/